
<header>
  <nav class="nav-container">
    <ul class="nav-list" id="lista">
      <li class="nav-item"><a href="http://localhost:8080/products?limit=10&page=1"><img
            src="../public/img/Astros-nav.png"
            alt="logo"
            class="logo-image"
            id="logo"
          /></a></li>
      <li class="nav-item"><a href="http://localhost:8080/products?limit=10&page=1&category=Algabo">Algabo</a></li>
      <li class="nav-item"><a href="http://localhost:8080/products?limit=10&page=1&category=Otros">Otros</a></li>
    
      {{#if role}}
       <li class="nav-item btn"><a href="/newproducts" class="add-btn" id="addref"><i class="fa-solid fa-shirt"></i></a></li>
      {{/if}}
      <li class="nav-item btn"><a href="/carts/{{this.cart}}" class="cart-btn" id="cartref"><i class="fa-solid fa-cart-shopping"></i></a></li>
      <li class="nav-item btn"><a href="#" class="logout-btn" id="logout"><i class="fa-solid fa-right-from-bracket"></i></a></li>
    </ul>
  </nav>
</header>

{{#if listExist}}
  <div class="container">
      {{#each list.payload}}
             <div class="product-card">
      <img src="{{this.thumbnail}}" alt="no photo">
      <h2>{{this.title}}</h2>
      <p>Categoría: {{this.category}}</p>
      <p>Item:{{this.code}}</p>
      <p>Descripción: {{this.description}}</p>
      <p>Precio: {{this.price}}</p>
      <p>Stock: {{this.stock}}</p>
      <input type="number" min="1" max="{{this.stock}}" value="1" id="quantity-{{this.code}}">
        <button class="cart"
                type="button"
                onclick="addProductQuantityToCart(document.getElementById('cartref').href,this.dataset.productid,document.getElementById('quantity-{{this.code}}').value)"
                data-productid={{this.id}}
              /> <img
                  class="cart"
                  src=""
                  alt="cart"
                />
              </button>
    </div>
      {{/each}}
  </div>
{{else}}
  <p class="">the product gallery is empty</p>
{{/if}}

<nav aria-label="Page navigation">
  <ul class="pagination">
  {{#if list.hasPrevPage}}
      <li class='page-item'>
    {{else}}
      <li class='page-item disabled'>
  {{/if}}
      <a class="page-link" href={{list.prevLink}}>Prev Page</a>
    </li>
  {{#if list.hasNextPage}}
      <li class='page-item'>
    {{else}}
      <li class='page-item disabled'>
  {{/if}}
      <a class="page-link" href={{list.nextLink}}>Next Page</a>
    </li>
  </ul>
</nav>
<footer>
  <div class="container-footer">
    <div>
      <p class="footer-text">Created by Joa</p>
  </div>
  
    {{#if chat}}
    <div id="chat">
      <div class="btn"> <a href="/chat" class="btn"><i class="fa-solid fa-message" ></i></a></div>
      <p>Chat here</p>
    </div>
    {{/if}}
  </div>
</footer>

<script src="/public/js/product.js"></script>
<script src="/public/js/logout.js"></script>